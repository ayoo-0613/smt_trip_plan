cities = ['Austin', 'Houston']
for city_0_index, city_0 in enumerate(cities):
    for city_1_index, city_1 in enumerate(cities):
        if city_0_index != city_1_index:
            s = Optimize()
            variables['city'] = [Int('city_0'), Int('city_1')]
            s.assert_and_track(variables['city'][0] == city_0_index, 'visit city in cities list')
            s.assert_and_track(variables['city'][1] == city_1_index, 'visit city in cities list')
variables['departure_dates'] = [Int('departure_dates_transportation_' + str(i)) for i in range(3)]
            s.assert_and_track(variables['departure_dates'][0] == 0, 'travel start date')
            s.assert_and_track(variables['departure_dates'][2] == 4, 'travel end date')
            s.assert_and_track(And(variables['departure_dates'][1] > 0, variables['departure_dates'][1] < 4), 'valid travel date')
variables['flight'] = [Bool('flight_travel_' + str(i)) for i in range(3)]
            variables['self-driving'] = [Bool('self-driving_travel_' + str(i)) for i in range(3)]
            variables['taxi'] = [Bool('taxi_travel_' + str(i)) for i in range(3)]
            
            s.assert_and_track(Or(variables['flight'][0], variables['self-driving'][0], variables['taxi'][0]),  'either flight, self-driving, or taxi for first transportation')
            s.assert_and_track(Or(variables['flight'][1], variables['self-driving'][1], variables['taxi'][1]),  'either flight, self-driving, or taxi for second transportation')
            s.assert_and_track(Or(variables['flight'][2], variables['self-driving'][2], variables['taxi'][2]),  'either flight, self-driving, or taxi for third transportation')
            
            s.assert_and_track(Not(And(variables['flight'][0], variables['self-driving'][0])), 'only one mode of transportation for first trip')
            s.assert_and_track(Not(And(variables['flight'][0], variables['taxi'][0])), 'only one mode of transportation for first trip')
            s.assert_and_track(Not(And(variables['taxi'][0], variables['self-driving'][0])), 'only one mode of transportation for first trip')
            
            s.assert_and_track(Not(And(variables['flight'][1], variables['self-driving'][1])), 'only one mode of transportation for second trip')
            s.assert_and_track(Not(And(variables['flight'][1], variables['taxi'][1])), 'only one mode of transportation for second trip')
            s.assert_and_track(Not(And(variables['taxi'][1], variables['self-driving'][1])), 'only one mode of transportation for second trip')
            
            s.assert_and_track(Not(And(variables['flight'][2], variables['self-driving'][2])), 'only one mode of transportation for third trip')
            s.assert_and_track(Not(And(variables['flight'][2], variables['taxi'][2])), 'only one mode of transportation for third trip')
            s.assert_and_track(Not(And(variables['taxi'][2], variables['self-driving'][2])), 'only one mode of transportation for third trip')
            
            s.assert_and_track(Implies(Or(variables['flight'][0], variables['flight'][1], variables['flight'][2]), Not(Or(variables['self-driving'][0], variables['self-driving'][1], variables['self-driving'][2]))), 'no self-driving if taken flight for any transportation')
            
            s.assert_and_track(Not(variables['flight'][0]), 'no flights for first transportation')
            s.assert_and_track(Not(variables['flight'][1]), 'no flights for second transportation')
            s.assert_and_track(Not(variables['flight'][2]), 'no flights for third transportation')
# Set 'flight_index' variable for 3 transportations
            variables['flight_index'] = [Int('flight_{}_index'.format(i)) for i in range(3)]
            # Assert 3 'flight_index' variables are within valid range if taking flight, assert flight index to be -1 if not taking flight
            s.assert_and_track(variables['flight_index'][0] == -1, 'no flight allowed for flight 0')
            s.assert_and_track(variables['flight_index'][1] == -1, 'no flight allowed for flight 1')
            s.assert_and_track(variables['flight_index'][2] == -1, 'no flight allowed for flight 2')
            # Calculate flight price for 2 people for 3 transportations based on flight index variable
            flight_0_price = 0 # no flights allowed
            flight_1_price = 0 # no flights allowed
            flight_2_price = 0 # no flights allowed
            # Get specific flight arrival time info with Atlanta as origin and final destination, specific city, and departure date for 3 transportations
            s.assert_and_track(variables['flight_index'][0] == -1, 'no flight allowed for flight 0')
            s.assert_and_track(variables['flight_index'][1] == -1, 'no flight allowed for flight 1')
            s.assert_and_track(variables['flight_index'][2] == -1, 'no flight allowed for flight 2')
            # Calculate flight arrival time for 3 transportations based on flight index variable
            flight_0_arrtime = 0 # no flights allowed
            flight_1_arrtime = 0 # no flights allowed
            flight_2_arrtime = 0 # no flights allowed
# Run DistanceSearch to get driving info for Pittsburgh as origin and city_0 and city_1
            driving_info = DistanceSearch.run_for_all_cities('Pittsburgh', cities, [city_0, city_1])  # use driving_info, do not customize
            # Get specific driving distance info with Pittsburgh as origin and final destination, specific city, and departure date for 2 transportations
            driving_2_distance, driving_2_length = DistanceSearch.get_info(driving_info, 'Pittsburgh', variables['city'][0], 'Distance')
            driving_3_distance, driving_3_length = DistanceSearch.get_info(driving_info, variables['city'][0], variables['city'][1], 'Distance')
            # Calculate self-driving and taxi price for 3 people and 2 transportations based on driving distance
            self_driving_2_price = 0.05 * driving_2_distance * math.ceil(3 / 5)
            self_driving_3_price = 0.05 * driving_3_distance * math.ceil(3 / 5)
            taxi_2_price = driving_2_distance * math.ceil(3 / 4)
            taxi_3_price = driving_3_distance * math.ceil(3 / 4)
            # Get driving arrival time with Pittsburgh as origin and final destination, specific city, and departure date for 2 transportations 
            driving_2_arrtime, _ = DistanceSearch.get_info(driving_info, 'Pittsburgh', variables['city'][0], 'Duration') # Use driving_2_arrtime, do not customize
            driving_3_arrtime, _ = DistanceSearch.get_info(driving_info, variables['city'][0], variables['city'][1], 'Duration') # Use driving_3_arrtime, do not customize
            # Assert driving info is not empty if driving
            s.assert_and_track(Implies(Or(variables['self-driving'][2], variables['taxi'][2]), driving_2_length > 0), 'driving is possible for transportation 2')
            s.assert_and_track(Implies(Or(variables['self-driving'][3], variables['taxi'][3]), driving_3_length > 0), 'driving is possible for transportation 3')
